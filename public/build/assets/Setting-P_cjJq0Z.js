import{aQ as u,bH as w,aE as x,z as T,aV as $,o as h,c as f,P as C,a as e,av as B,H as D}from"./app-g0Cj44fV.js";const y={__name:"TreeSelect",props:{modelValue:{type:Array,default:()=>[]}},emits:["update:modelValue"],setup(p,{emit:d}){const a=p,_=d,m=u(a.modelValue),g=s=>{_("update:modelValue",s)},l=u([]),{loading:V,error:t,sendRequest:o}=w();x(async()=>{let s;s=await o({method:"get",url:"/api/category"}),l.value=s});const n=T(()=>b(l.value));function b(s,c=0,v=""){return s==null?void 0:s.reduce((i,r)=>{const S=c>0?`${v}-`:v,N=`${S} ${r.name}`,k={...r,fullName:N};return i.push(k),r.children_recursive&&r.children_recursive.length>0&&i.push(...b(r.children_recursive,c+1,S)),i},[])}return(s,c)=>{const v=$("v-select");return h(),f("div",null,[C(v,{options:n.value,modelValue:m.value,"onUpdate:modelValue":[c[0]||(c[0]=i=>m.value=i),g],class:"form-control",label:"fullName",selected:p.modelValue,placeholder:"Select Categories...",multiple:""},null,8,["options","modelValue","selected"])])}}},H={class:"row"},U={class:"col-md-3 d-flex flex-column gap-2"},A=e("div",{class:"card-body p-4"}," Home Page Setting ",-1),P=[A],q={class:"col-md-9"},z={key:0,class:"card"},E=e("div",{class:"card-header d-flex gap-2"},[e("h3",{class:"card-title m-0"},"Product Details")],-1),R={class:"card-body"},I={class:"form-row"},M={class:"col-md form-group"},O=e("label",null,"Nav Bar Categories",-1),Q={class:"col-md form-group"},j=e("label",null,"Home Cats",-1),G={__name:"Setting",setup(p){const{sendRequest:d}=w(),a=u({navCats:[],homeCats:[]}),_=()=>{d({url:"/api/admin/save-setting",method:"POST",data:a.value})},m=async()=>{const t=await d("/api/admin/get-setting");a.value=t==null?void 0:t.bSettings},g=u([]);x(async()=>{let t;t=await d({method:"get",url:"/api/category"}),Toast.fire({icon:"success",title:"Setting Update Success..."}),g.value=t,m()});const l=u("details"),V=t=>l.value=t;return(t,o)=>(h(),f("section",null,[e("div",H,[e("div",U,[e("div",{class:B(["card cursor-pointer",{"bg-primary text-white fw-bolder":l.value==="details"}]),onClick:o[0]||(o[0]=n=>V("details"))},P,2)]),e("div",q,[l.value==="details"?(h(),f("div",z,[E,e("div",R,[e("div",I,[e("div",M,[O,C(y,{modelValue:a.value.navCats,"onUpdate:modelValue":o[1]||(o[1]=n=>a.value.navCats=n)},null,8,["modelValue"])]),e("div",Q,[j,C(y,{modelValue:a.value.homeCats,"onUpdate:modelValue":o[2]||(o[2]=n=>a.value.homeCats=n)},null,8,["modelValue"])])]),e("button",{class:"btn btn-primary fw-bold",onClick:_},"Save Setting")])])):D("",!0)])])]))}};export{G as default};
