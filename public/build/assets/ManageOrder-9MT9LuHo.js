import{_ as ft}from"./Pagination-753VA2nU.js";import{_ as xt,aV as ut,c as i,a as t,F as mt,aT as gt,P as g,e as m,b7 as a,H as u,o as r,O as v}from"./app-JcuZYzdX.js";const wt="/build/assets/logo-ffQpNU8I.png",yt={name:"MangeOrder",components:{Pagination:ft},data(){return{orders:{},orderDetails:{},user:User.userInfo(),orderStatusList:[{name:"Pending"},{name:"Received"},{name:"Process"},{name:"Shipped"},{name:"Delivered"},{name:"Cancel"}],paymentStatusList:[{name:"Pending"},{name:"Cancelled"},{name:"Paid"}],orderStatus:null,paymentStatus:null}},methods:{allOrder(l){var o;this.$axios.get(l??"/api/admin/orders",{headers:{Authorization:`Bearer ${(o=this.user)==null?void 0:o.token}`}}).then(n=>{this.orders=n.data}).catch(n=>{n.response.data.errors,Toast.fire({icon:"warning",title:n.response.statusText})})},showSingleOrder(l){$("#exampleModal").modal("show"),this.orderDetails=l},deleteOrder(l){Swal.fire({title:"Are You Sure!",text:"you watnt to delete this?",icon:"warning",confirmButtonColor:"#ddd",cancelButtonColor:"red",confirmButtonText:"Delete",showCancelButton:!0}).then(o=>{o.value&&this.$axios.delete("/api/order/"+l).then(n=>{Toast.fire({icon:"success",title:n.data.message}),this.allOrder()}).catch(n=>{console.log(n.response.data)})}).catch(()=>{Swal.fire({icon:"success",title:"dont worry. your data is safe..."})})},changeOrderStatus(l){var o,n;this.$axios.get(`/api/change-order-status?status=${l.name}&id=${(o=this.orderDetails)==null?void 0:o.id}&type=order`,{headers:{Authorization:`Bearer ${(n=this.user)==null?void 0:n.token}`}}).then(d=>{Toast.fire({icon:"success",title:"Status Updated..."}),$("#exampleModal").modal("hide"),this.allOrder()}).catch(d=>{d.response.data.errors,Toast.fire({icon:"warning",title:d.response.statusText})})},changePaymentStatus(l){var o,n;this.$axios.get(`/api/change-order-status?status=${l.name}&id=${(o=this.orderDetails)==null?void 0:o.id}&type=payment`,{headers:{Authorization:`Bearer ${(n=this.user)==null?void 0:n.token}`}}).then(d=>{Toast.fire({icon:"success",title:"Status Updated..."}),$("#exampleModal").modal("hide"),this.allOrder()}).catch(d=>{d.response.data.errors,Toast.fire({icon:"warning",title:d.response.statusText})})},isLogined(){User.loggedIn()||this.$router.push({name:"Login"})}},computed:{totalQuantity(){let l=0;for(let o=0;o<this.orders.length;o++)l+=this.orders[o].quantity;return l},grandTotalAmount(){let l=0;for(let o=0;o<this.orders.length;o++)l+=this.orders[o].pay_bill;return l}},created(){this.isLogined(),this.allOrder()}},bt={class:"card card-custom"},Ct=t("div",{class:"card-header flex-wrap py-5"},[t("div",{class:"card-title"},[t("h3",{class:"card-label"},"Order Details ")])],-1),Lt={class:"card-body"},kt={class:"table table-separate table-head-custom table-checkable",id:""},St=t("thead",null,[t("tr",null,[t("th",null,"ID"),t("th",null,"Customer"),t("th",null,"Total"),t("th",null,"Order Status"),t("th",{class:"text-center"},"Type"),t("th",null,"Payment Status"),t("th",null,"Payment Method"),t("th",null,"Order Date"),t("th",null,"Actions")])],-1),Dt={class:"text-center"},Ot={class:"badge bg-primary text-capitalize"},Tt={class:"text-center"},Pt={class:"badge bg-info text-capitalize"},Mt={class:"text-center"},zt={class:"text-capitalize"},Vt=["onClick"],Bt=v('<span class="svg-icon svg-icon-primary svg-icon-2x"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><polygon points="0 0 24 0 24 24 0 24"></polygon><rect fill="#000000" opacity="0.3" transform="translate(13.000000, 6.000000) rotate(-450.000000) translate(-13.000000, -6.000000) " x="12" y="8.8817842e-16" width="2" height="12" rx="1"></rect><path d="M9.79289322,3.79289322 C10.1834175,3.40236893 10.8165825,3.40236893 11.2071068,3.79289322 C11.5976311,4.18341751 11.5976311,4.81658249 11.2071068,5.20710678 L8.20710678,8.20710678 C7.81658249,8.59763107 7.18341751,8.59763107 6.79289322,8.20710678 L3.79289322,5.20710678 C3.40236893,4.81658249 3.40236893,4.18341751 3.79289322,3.79289322 C4.18341751,3.40236893 4.81658249,3.40236893 5.20710678,3.79289322 L7.5,6.08578644 L9.79289322,3.79289322 Z" fill="#000000" fill-rule="nonzero" transform="translate(7.500000, 6.000000) rotate(-270.000000) translate(-7.500000, -6.000000) "></path><rect fill="#000000" opacity="0.3" transform="translate(11.000000, 18.000000) scale(1, -1) rotate(90.000000) translate(-11.000000, -18.000000) " x="10" y="12" width="2" height="12" rx="1"></rect><path d="M18.7928932,15.7928932 C19.1834175,15.4023689 19.8165825,15.4023689 20.2071068,15.7928932 C20.5976311,16.1834175 20.5976311,16.8165825 20.2071068,17.2071068 L17.2071068,20.2071068 C16.8165825,20.5976311 16.1834175,20.5976311 15.7928932,20.2071068 L12.7928932,17.2071068 C12.4023689,16.8165825 12.4023689,16.1834175 12.7928932,15.7928932 C13.1834175,15.4023689 13.8165825,15.4023689 14.2071068,15.7928932 L16.5,18.0857864 L18.7928932,15.7928932 Z" fill="#000000" fill-rule="nonzero" transform="translate(16.500000, 18.000000) scale(1, -1) rotate(270.000000) translate(-16.500000, -18.000000) "></path></g></svg></span>',1),Nt=[Bt],Ut=["href"],Zt=v('<span class="svg-icon svg-icon-md"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><rect x="0" y="0" width="24" height="24"></rect><path d="M2.56066017,10.6819805 L4.68198052,8.56066017 C5.26776695,7.97487373 6.21751442,7.97487373 6.80330086,8.56066017 L8.9246212,10.6819805 C9.51040764,11.267767 9.51040764,12.2175144 8.9246212,12.8033009 L6.80330086,14.9246212 C6.21751442,15.5104076 5.26776695,15.5104076 4.68198052,14.9246212 L2.56066017,12.8033009 C1.97487373,12.2175144 1.97487373,11.267767 2.56066017,10.6819805 Z M14.5606602,10.6819805 L16.6819805,8.56066017 C17.267767,7.97487373 18.2175144,7.97487373 18.8033009,8.56066017 L20.9246212,10.6819805 C21.5104076,11.267767 21.5104076,12.2175144 20.9246212,12.8033009 L18.8033009,14.9246212 C18.2175144,15.5104076 17.267767,15.5104076 16.6819805,14.9246212 L14.5606602,12.8033009 C13.9748737,12.2175144 13.9748737,11.267767 14.5606602,10.6819805 Z" fill="#000000" opacity="0.3"></path><path d="M8.56066017,16.6819805 L10.6819805,14.5606602 C11.267767,13.9748737 12.2175144,13.9748737 12.8033009,14.5606602 L14.9246212,16.6819805 C15.5104076,17.267767 15.5104076,18.2175144 14.9246212,18.8033009 L12.8033009,20.9246212 C12.2175144,21.5104076 11.267767,21.5104076 10.6819805,20.9246212 L8.56066017,18.8033009 C7.97487373,18.2175144 7.97487373,17.267767 8.56066017,16.6819805 Z M8.56066017,4.68198052 L10.6819805,2.56066017 C11.267767,1.97487373 12.2175144,1.97487373 12.8033009,2.56066017 L14.9246212,4.68198052 C15.5104076,5.26776695 15.5104076,6.21751442 14.9246212,6.80330086 L12.8033009,8.9246212 C12.2175144,9.51040764 11.267767,9.51040764 10.6819805,8.9246212 L8.56066017,6.80330086 C7.97487373,6.21751442 7.97487373,5.26776695 8.56066017,4.68198052 Z" fill="#000000"></path></g></svg></span>',1),At=[Zt],It=["onClick"],jt=v('<span class="svg-icon svg-icon-md"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><rect x="0" y="0" width="24" height="24"></rect><path d="M6,8 L6,20.5 C6,21.3284271 6.67157288,22 7.5,22 L16.5,22 C17.3284271,22 18,21.3284271 18,20.5 L18,8 L6,8 Z" fill="#000000" fill-rule="nonzero"></path><path d="M14,4.5 L14,4 C14,3.44771525 13.5522847,3 13,3 L11,3 C10.4477153,3 10,3.44771525 10,4 L10,4.5 L5.5,4.5 C5.22385763,4.5 5,4.72385763 5,5 L5,5.5 C5,5.77614237 5.22385763,6 5.5,6 L18.5,6 C18.7761424,6 19,5.77614237 19,5.5 L19,5 C19,4.72385763 18.7761424,4.5 18.5,4.5 L14,4.5 Z" fill="#000000" opacity="0.3"></path></g></svg></span>',1),Et=[jt],qt={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Qt={class:"modal-dialog modal-lg"},Ft={class:"modal-content"},Gt={class:"card invoice-preview-card shadow-none py-5"},Ht={class:"card-body invoice-padding pb-0 mb-5"},Rt={class:"d-flex align-items-center justify-content-between"},Yt={style:{"text-align":"left","max-width":"35%"}},Jt=t("div",{class:"logo-wrapper mb-5"},[t("img",{src:wt,alt:"",height:"40"})],-1),Kt=t("h3",{class:"mt-1 fw-semibold fs-3 mb-3 text-capitalize"},"Invoice To: ",-1),Wt={key:0,class:"card-text mb-0 pb-0"},Xt={key:1,class:"card-text mb-0 pb-0"},$t={key:2,class:"card-text mb-0 pb-0"},te={key:3,class:"card-text mb-0 pb-0"},ee={style:{"text-align":"right"}},se={class:"mt-md-0 mt-2"},oe=t("h4",{class:"invoice-title"},[m(" Invoice "),t("span",{class:"invoice-number"},"#5433")],-1),ae={class:"invoice-date-wrapper"},le={class:"invoice-date-title"},ne={class:"invoice-date-wrapper"},ie={class:"invoice-date-title text-capitalize"},re={class:"badge bg-info ms-1"},de={class:"invoice-date-wrapper"},ce={class:"invoice-date-title text-capitalize"},he={class:"badge bg-info ms-1"},_e={class:"d-flex flex-column gap-2"},pe=t("hr",{class:"invoice-spacing"},null,-1),ue={class:"table-responsive"},me={class:"table"},ge=t("thead",null,[t("tr",null,[t("th",{class:"py-1",width:"40%"},"Product Name"),t("th",{class:"py-1"},"Price"),t("th",{class:"py-1"},"size & Qty"),t("th",{class:"py-1"},"Total")])],-1),ve={class:"py-1"},fe={href:"#",class:"text-info text-capitalize"},xe={class:"py-1"},we={class:"fw-bold"},ye={class:"py-1"},be={class:"fw-bold"},Ce={class:"py-1"},Le={class:"fw-bold"},ke=t("hr",null,null,-1),Se={class:"card-body invoice-padding pb-0"},De={class:"row invoice-sales-total-wrapper"},Oe=t("div",{class:"col-md-8 order-md-1 mt-md-0 mt-3"},null,-1),Te={class:"col-md-4 d-flex justify-content-end order-md-2"},Pe={class:"invoice-total-wrapper w-100"},Me={class:"invoice-total-item d-flex justify-content-between"},ze=t("p",{class:"invoice-total-title"},"Subtotal:",-1),Ve={class:"invoice-total-amount"},Be={class:"invoice-total-item d-flex justify-content-between"},Ne=t("p",{class:"invoice-total-title"},"Delivery Charge:",-1),Ue={class:"invoice-total-amount"},Ze=t("hr",{class:"my-50"},null,-1),Ae={class:"invoice-total-item d-flex justify-content-between"},Ie=t("p",{class:"invoice-total-title text-black fw-bolder"},"Grand Total:",-1),je={class:"invoice-total-amount text-black fw-bolder"};function Ee(l,o,n,d,s,h){var x,w,y,b,C,L,k,S,D,O,T,P,M,z,V,B,N,U,Z,A,I,j,E,q,Q,F,G,H,R,Y,J,K,W,X,tt,et,st,ot,at,lt,nt,it,rt,dt,ct,ht,_t;const vt=ut("Pagination"),f=ut("v-select");return r(),i("div",null,[t("div",bt,[Ct,t("div",Lt,[t("table",kt,[St,t("tbody",null,[(r(!0),i(mt,null,gt((w=(x=s.orders)==null?void 0:x.orders)==null?void 0:w.data,(e,c)=>{var _;return r(),i("tr",{key:`single-order-${c}`},[t("td",null,a(c+1),1),t("td",null,a((_=e.customer)==null?void 0:_.full_name),1),t("td",null,a(e.grand_total)+" $",1),t("td",Dt,[t("span",Ot,a(e==null?void 0:e.order_status),1)]),t("td",null,a(e==null?void 0:e.order_type),1),t("td",Tt,[t("span",Pt,a(e==null?void 0:e.payment_status),1)]),t("td",Mt,[t("span",zt,a(e==null?void 0:e.payment_method),1)]),t("td",null,a(e==null?void 0:e.order_date),1),t("td",null,[t("a",{href:"#",onClick:p=>h.showSingleOrder(e)},Nt,8,Vt),t("a",{href:`http://localhost:5173/order-invoice/${e==null?void 0:e.id}`,target:"_blank",class:"btn btn-sm btn-clean btn-icon",title:"Edit details"},At,8,Ut),t("button",{onClick:p=>h.deleteOrder(e.id),class:"btn btn-sm btn-clean btn-icon",title:"Delete"},Et,8,It)])])}),128))])]),g(vt,{onSomeEvent:h.allOrder,links:(b=(y=s.orders)==null?void 0:y.orders)==null?void 0:b.links,from:(L=(C=s.orders)==null?void 0:C.orders)==null?void 0:L.from,to:(S=(k=s.orders)==null?void 0:k.orders)==null?void 0:S.to,total:(O=(D=s.orders)==null?void 0:D.orders)==null?void 0:O.total,notShowNumber:!1},null,8,["onSomeEvent","links","from","to","total"])])]),t("div",qt,[t("div",Qt,[t("div",Ft,[t("div",Gt,[t("div",Ht,[t("div",Rt,[t("div",Yt,[t("div",null,[Jt,Kt,(P=(T=s.orderDetails)==null?void 0:T.customer)!=null&&P.full_name?(r(),i("p",Wt,[m("Name: "),t("strong",null,a((z=(M=s.orderDetails)==null?void 0:M.customer)==null?void 0:z.full_name),1)])):u("",!0),(B=(V=s.orderDetails)==null?void 0:V.address)!=null&&B.phone||(U=(N=s.orderDetails)==null?void 0:N.customer)!=null&&U.phone?(r(),i("p",Xt,"Phone: "+a(((A=(Z=s.orderDetails)==null?void 0:Z.address)==null?void 0:A.phone)??((j=(I=s.orderDetails)==null?void 0:I.customer)==null?void 0:j.phone)),1)):u("",!0),(q=(E=s.orderDetails)==null?void 0:E.address)!=null&&q.email||(F=(Q=s.orderDetails)==null?void 0:Q.customer)!=null&&F.email?(r(),i("p",$t,"Email: "+a(((H=(G=s.orderDetails)==null?void 0:G.address)==null?void 0:H.email)??((Y=(R=s.orderDetails)==null?void 0:R.customer)==null?void 0:Y.email)),1)):u("",!0),(K=(J=s.orderDetails)==null?void 0:J.address)!=null&&K.address||(X=(W=s.orderDetails)==null?void 0:W.customer)!=null&&X.address?(r(),i("p",te,"Address: "+a(((et=(tt=s.orderDetails)==null?void 0:tt.address)==null?void 0:et.address)??((ot=(st=s.orderDetails)==null?void 0:st.customer)==null?void 0:ot.address)),1)):u("",!0)])]),t("div",ee,[t("div",se,[oe,t("div",ae,[t("p",le,"Order Date: "+a((at=s.orderDetails)==null?void 0:at.order_date),1)]),t("div",ne,[t("p",ie,[m("Order Status: "),t("span",re,a((lt=s.orderDetails)==null?void 0:lt.order_status),1)])]),t("div",de,[t("p",ce,[m("Payment Status: "),t("span",he,a((nt=s.orderDetails)==null?void 0:nt.payment_status),1)])])]),t("div",_e,[g(f,{options:s.orderStatusList,modelValue:s.orderStatus,"onUpdate:modelValue":[o[0]||(o[0]=e=>s.orderStatus=e),h.changeOrderStatus],class:"form-control",label:"name",placeholder:"Select Order Status..."},null,8,["options","modelValue","onUpdate:modelValue"]),g(f,{options:s.paymentStatusList,modelValue:s.paymentStatus,"onUpdate:modelValue":[o[1]||(o[1]=e=>s.paymentStatus=e),h.changePaymentStatus],class:"form-control",reduse:e=>{var c;return(c=e==null?void 0:e.name)==null?void 0:c.tolowerCase()},label:"name",placeholder:"Select Payment Status..."},null,8,["options","modelValue","onUpdate:modelValue","reduse"])])])])]),pe,t("div",ue,[t("table",me,[ge,t("tbody",null,[(r(!0),i(mt,null,gt((it=s.orderDetails)==null?void 0:it.orderdetails,(e,c)=>{var _,p,pt;return r(),i("tr",{key:`single-details-item-${c}`},[t("td",ve,[t("a",fe,a((_=e==null?void 0:e.product)==null?void 0:_.title),1)]),t("td",xe,[t("span",we,a((p=e==null?void 0:e.stoke)==null?void 0:p.price)+" $",1)]),t("td",ye,[t("span",be,a(e==null?void 0:e.quantity),1)]),t("td",Ce,[t("span",Le,a(((pt=e==null?void 0:e.stoke)==null?void 0:pt.price)*(e==null?void 0:e.quantity))+" $ ",1)])])}),128))])])]),ke,t("div",Se,[t("div",De,[Oe,t("div",Te,[t("div",Pe,[t("div",Me,[ze,t("p",Ve,a((rt=s.orderDetails)==null?void 0:rt.sub_total)+" $",1)]),t("div",Be,[Ne,t("p",Ue," + "+a((ht=(ct=(dt=s.orderDetails)==null?void 0:dt.address)==null?void 0:ct.order_area)==null?void 0:ht.delivery_charge)+" $",1)]),Ze,t("div",Ae,[Ie,t("p",je,a((_t=s.orderDetails)==null?void 0:_t.grand_total)+" $",1)])])])])])])])])])])}const Fe=xt(yt,[["render",Ee]]);export{Fe as default};
