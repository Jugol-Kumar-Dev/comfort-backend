import{S as u}from"./SummernoteEditor-iPRbPdkx.js";import{_ as g}from"./TreeCategory-581kyqq-.js";import{_,aV as l,c as n,a as e,w as y,P as d,b as p,v as m,b7 as v,H as c,O as C,o as i}from"./app-g0Cj44fV.js";const x={name:"Add",components:{TreeCategory:g,SummernoteEditor:u},data(){return{rawHtml:"this is my data",from:{parent:null,name:"",description:"",details:"",photo:""},avatar:{},errors:{}}},methods:{uploadFile(s){this.avatar=s.target.files[0],this.from.photo=URL.createObjectURL(s.target.files[0])},saveCategory(){let s=new FormData;s.append("image",this.avatar),s.append("parent",this.from.parent),s.append("name",this.from.name),s.append("description",this.from.description),s.append("details",this.from.details),s.append("photo",this.from.photo),this.$axios.post("api/category",s).then(t=>{this.from="",this.errors="",Toast.fire({icon:"success",title:t.data.message})}).catch(t=>{this.errors=t.response.data.errors,Toast.fire({icon:"warning",title:t.response.statusText})})}},created(){User.loggedIn()||this.$router.push({name:"Login"})}},b={class:"card card-custom"},w=e("div",{class:"card-header"},[e("h3",{class:"card-title"},"Add New Category")],-1),V={class:"card-body"},L={class:"form-group"},k=e("label",null,"Parent Category",-1),S={class:"form-group"},T=e("label",null,"Category Name",-1),U={key:0,class:"text-danger"},N={class:"form-group"},D=e("label",null,"Category Description",-1),E={class:"form-group"},B=e("label",null,"Category Details",-1),F={class:"form-group"},M={class:"btn btn-clean",style:{border:"dashed 2px",padding:"20px 82px"}},A=C('<span class="svg-icon svg-icon-primary svg-icon-2x"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="80px!important" height="80px!important" viewBox="0 0 24 24" version="1.1"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><rect x="0" y="0" width="24" height="24"></rect><path d="M2,13 C2,12.5 2.5,12 3,12 C3.5,12 4,12.5 4,13 C4,13.3333333 4,15 4,18 C4,19.1045695 4.8954305,20 6,20 L18,20 C19.1045695,20 20,19.1045695 20,18 L20,13 C20,12.4477153 20.4477153,12 21,12 C21.5522847,12 22,12.4477153 22,13 L22,18 C22,20.209139 20.209139,22 18,22 L6,22 C3.790861,22 2,20.209139 2,18 C2,15 2,13.3333333 2,13 Z" fill="#000000" fill-rule="nonzero" opacity="0.3"></path><rect fill="#000000" opacity="0.3" x="11" y="2" width="2" height="14" rx="1"></rect><path d="M12.0362375,3.37797611 L7.70710678,7.70710678 C7.31658249,8.09763107 6.68341751,8.09763107 6.29289322,7.70710678 C5.90236893,7.31658249 5.90236893,6.68341751 6.29289322,6.29289322 L11.2928932,1.29289322 C11.6689749,0.916811528 12.2736364,0.900910387 12.6689647,1.25670585 L17.6689647,5.75670585 C18.0794748,6.12616487 18.1127532,6.75845471 17.7432941,7.16896473 C17.3738351,7.57947475 16.7415453,7.61275317 16.3310353,7.24329415 L12.0362375,3.37797611 Z" fill="#000000" fill-rule="nonzero"></path></g></svg></span>',1),j=["src"],z=e("div",{class:"card-footer"},[e("button",{type:"submit",class:"btn btn-primary mr-2"},"Submit"),e("button",{type:"reset",class:"btn btn-secondary"},"Cancel")],-1);function H(s,t,O,P,o,a){const h=l("TreeCategory"),f=l("SummernoteEditor");return i(),n("div",null,[e("div",b,[w,e("form",{class:"form",onSubmit:t[5]||(t[5]=y(r=>a.saveCategory(),["prevent"])),enctype:"multipart/form-data"},[e("div",V,[e("div",L,[k,d(h,{modelValue:o.from.parent,"onUpdate:modelValue":t[0]||(t[0]=r=>o.from.parent=r)},null,8,["modelValue"])]),e("div",S,[T,p(e("input",{type:"text",class:"form-control form-control-solid","onUpdate:modelValue":t[1]||(t[1]=r=>o.from.name=r),placeholder:"Enter category name..."},null,512),[[m,o.from.name]]),o.errors.name?(i(),n("small",U,v(o.errors.name[0]),1)):c("",!0)]),e("div",N,[D,p(e("textarea",{class:"form-control","onUpdate:modelValue":t[2]||(t[2]=r=>o.from.description=r),rows:"3",placeholder:"category description......."},null,512),[[m,o.from.description]])]),e("div",E,[B,d(f,{modelValue:o.from.details,"onUpdate:modelValue":t[3]||(t[3]=r=>o.from.details=r)},null,8,["modelValue"])]),e("div",F,[e("label",M,[e("input",{type:"file",onChange:t[4]||(t[4]=(...r)=>a.uploadFile&&a.uploadFile(...r)),hidden:""},null,32),A])]),o.from.photo?(i(),n("img",{key:0,src:o.from.photo,alt:"",style:{width:"180px",height:"120px","object-fit":"contain"}},null,8,j)):c("",!0)]),z],32)])])}const q=_(x,[["render",H]]);export{q as default};
