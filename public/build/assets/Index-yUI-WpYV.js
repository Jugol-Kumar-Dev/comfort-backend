import{_ as b}from"./Pagination-Xq7E6AS0.js";import{_ as k,bL as y,aV as _,c as d,a as e,F as S,aT as B,P as x,o as c,b7 as l,bA as P,e as A,O as m}from"./app-pW82LcES.js";const D={name:"MangeOrder",components:{Pagination:b},data(){return{review:{},orderDetails:{},user:User.userInfo(),reviewtatusList:[{name:"Pending"},{name:"Received"},{name:"Process"},{name:"Shipped"},{name:"Delivered"},{name:"Cancel"}],paymentStatusList:[{name:"Pending"},{name:"Cancelled"},{name:"Paid"}],reviewtatus:null,paymentStatus:null}},methods:{allOrder(s){var n;this.$axios.get(s??"/api/question",{headers:{Authorization:`Bearer ${(n=this.user)==null?void 0:n.token}`}}).then(o=>{this.review=o.data}).catch(o=>{o.response.data.errors,Toast.fire({icon:"warning",title:o.response.statusText})})},givenAnswer(s){$("#exampleModal").modal("show"),this.orderDetails=s},deleteCustomer(s){Swal.fire({title:"Are You Sure!",text:"you watnt to delete this?",icon:"warning",confirmButtonColor:"#ddd",cancelButtonColor:"red",confirmButtonText:"Delete",showCancelButton:!0}).then(n=>{n.value&&(this.loading=!0,this.$axios.delete("/api/review/"+s).then(o=>{Toast.fire({icon:"success",title:o.data.message}),this.allOrder()}).catch(o=>{Toast.fire({icon:"error",title:o.response.statusText})}).finally(()=>this.loading=!1))}).catch(()=>{Swal.fire({icon:"success",title:"dont worry. your data is safe..."}),this.$router.push({name:"ManageEmployee"})})},isLogined(){User.loggedIn()||this.$router.push({name:"Login"})}},computed:{moment(){return y},totalQuantity(){let s=0;for(let n=0;n<this.review.length;n++)s+=this.review[n].quantity;return s},grandTotalAmount(){let s=0;for(let n=0;n<this.review.length;n++)s+=this.review[n].pay_bill;return s}},created(){this.isLogined(),this.allOrder()}},T={class:"card card-custom"},M=e("div",{class:"card-header flex-wrap py-5"},[e("div",{class:"card-title"},[e("h3",{class:"card-label"},"Product Question")])],-1),O={class:"card-body"},z={class:"table table-separate table-head-custom table-checkable",id:""},N=e("thead",null,[e("tr",null,[e("th",{class:"text-center"},"ID"),e("th",null,"Customer"),e("th",null,"Product"),e("th",{width:"20%"},"question"),e("th",null,"Answer"),e("th",null,"Order Date"),e("th",null,"Actions")])],-1),V={class:"d-flex gap-3"},q=["src"],E={class:"d-flex flex-column"},I={class:"text-capitalize"},Z={class:"d-flex gap-2 flex-column"},F={class:"text-capitalize"},Q=m('<span class="svg-icon svg-icon-md"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><rect x="0" y="0" width="24" height="24"></rect><path d="M6,8 L6,20.5 C6,21.3284271 6.67157288,22 7.5,22 L16.5,22 C17.3284271,22 18,21.3284271 18,20.5 L18,8 L6,8 Z" fill="#000000" fill-rule="nonzero"></path><path d="M14,4.5 L14,4 C14,3.44771525 13.5522847,3 13,3 L11,3 C10.4477153,3 10,3.44771525 10,4 L10,4.5 L5.5,4.5 C5.22385763,4.5 5,4.72385763 5,5 L5,5.5 C5,5.77614237 5.22385763,6 5.5,6 L18.5,6 C18.7761424,6 19,5.77614237 19,5.5 L19,5 C19,4.72385763 18.7761424,4.5 18.5,4.5 L14,4.5 Z" fill="#000000" opacity="0.3"></path></g></svg></span>',1),U=[Q],j=["onClick"],R=m('<span class="svg-icon svg-icon-md"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><rect x="0" y="0" width="24" height="24"></rect><path d="M6,8 L6,20.5 C6,21.3284271 6.67157288,22 7.5,22 L16.5,22 C17.3284271,22 18,21.3284271 18,20.5 L18,8 L6,8 Z" fill="#000000" fill-rule="nonzero"></path><path d="M14,4.5 L14,4 C14,3.44771525 13.5522847,3 13,3 L11,3 C10.4477153,3 10,3.44771525 10,4 L10,4.5 L5.5,4.5 C5.22385763,4.5 5,4.72385763 5,5 L5,5.5 C5,5.77614237 5.22385763,6 5.5,6 L18.5,6 C18.7761424,6 19,5.77614237 19,5.5 L19,5 C19,4.72385763 18.7761424,4.5 18.5,4.5 L14,4.5 Z" fill="#000000" opacity="0.3"></path></g></svg></span>',1),Y=[R];function G(s,n,o,H,a,r){var u,h,p,g,w;const L=_("router-link"),C=_("Pagination");return c(),d("div",null,[e("div",T,[M,e("div",O,[e("table",z,[N,e("tbody",null,[(c(!0),d(S,null,B((u=a.review)==null?void 0:u.data,(t,v)=>{var f;return c(),d("tr",{key:`single-order-${v}`},[e("td",null,l(v+1),1),e("td",null,[e("div",V,[e("img",{src:`https://ui-avatars.com/api/?background=random&rounded=true&color=fff&name=${t.name}&size=30`,alt:""},null,8,q),e("div",E,[e("h4",I,l(t==null?void 0:t.name),1),e("small",null,l(t==null?void 0:t.email),1)])])]),e("td",null,[x(L,{to:`/modify-product/${(f=t==null?void 0:t.product)==null?void 0:f.id}`},{default:P(()=>{var i;return[A(l((i=t==null?void 0:t.product)==null?void 0:i.title),1)]}),_:2},1032,["to"])]),e("td",null,[e("div",Z,[e("strong",F,l(t==null?void 0:t.title),1),e("p",null,l(t==null?void 0:t.question),1)])]),e("td",null,l(r.moment(t==null?void 0:t.created_at).format("lll")),1),e("td",null,[e("button",{onClick:n[0]||(n[0]=(...i)=>r.givenAnswer&&r.givenAnswer(...i)),class:"btn btn-sm btn-clean btn-icon",title:"Delete"},U),e("a",{href:"javascript:void(0)",onClick:i=>r.deleteCustomer(t.id),class:"btn btn-sm btn-clean btn-icon",title:"Delete"},Y,8,j)])])}),128))])]),x(C,{onSomeEvent:r.allOrder,links:(h=a.review)==null?void 0:h.links,from:(p=a.review)==null?void 0:p.from,to:(g=a.review)==null?void 0:g.to,total:(w=a.review)==null?void 0:w.total,notShowNumber:!1},null,8,["onSomeEvent","links","from","to","total"])])])])}const W=k(D,[["render",G]]);export{W as default};
