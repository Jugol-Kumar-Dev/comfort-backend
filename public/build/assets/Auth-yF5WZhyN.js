import{_ as u,c as d,a as t,w as m,b as r,v as p,o as l,p as g,d as f,e as _}from"./app-g0Cj44fV.js";const b={name:"Auth",data(){return{data:{email:null,password:null,isLoading:!1}}},methods:{loginHere(){this.data.isLoading=!0,this.$axios.post("/api/auth/login",this.data).then(o=>{var s;User.responseAfterLogin(JSON.stringify((s=o==null?void 0:o.data)==null?void 0:s.data)),Toast.fire({icon:"success",title:"Login Successfully Done.."}),this.$router.push({name:"Dashboard"}),this.data.isLoading=!1}).catch(o=>{var s,i,n,e;Toast.fire({icon:"warning",title:(i=(s=o.response)==null?void 0:s.data)==null?void 0:i.message}),o.response.status==500&&Toast.fire({icon:"error",title:(e=(n=o.response)==null?void 0:n.data)==null?void 0:e.message}),this.data.isLoading=!1})},meButton(){console.log(this.data),this.$axios.post("/api/auth/me?token="+this.token).then(o=>{console.log(o.data),this.products=o.data}).catch(o=>{console.log(o)})},payload(){this.axios.post("/api/auth/payload?token="+this.token).then(o=>{console.log(o.data),this.products=o.data}).catch(o=>{console.log(o)})},logout(){this.$axios.post("/api/auth/logout?token="+this.token).then(o=>{console.log(o.data),this.products=o.data}).catch(o=>{console.log(o)})}},created(){User.loggedIn()&&this.$router.push({name:"Dashboard"})}},c=o=>(g("data-v-c1fbc0fa"),o=o(),f(),o),x={class:"login-container"},y={class:"card",style:{width:"30%"}},v={class:"card-body"},k=c(()=>t("div",{class:"mb-20"},[t("h3",null,"Login As Admin"),t("div",{class:"text-muted font-weight-bold"},"Enter your details to login to your account:")],-1)),w={class:"form-group mb-5"},L=["disabled"],S={class:"form-group mb-5"},I=["disabled"],A=c(()=>t("div",{class:"form-group d-flex flex-wrap justify-content-between align-items-center"},[t("div",{class:"checkbox-inline"},[t("label",{class:"checkbox m-0 text-muted"},[t("input",{type:"checkbox",name:"remember"}),t("span"),_("Remember me")])])],-1)),T={key:0,class:"spinner-border",role:"status"},B=c(()=>t("span",{class:"visually-hidden"},"Loading...",-1)),D=[B],U=["disabled"];function V(o,s,i,n,e,h){return l(),d("div",x,[t("div",y,[t("div",v,[t("div",null,[k,t("form",{onSubmit:s[2]||(s[2]=m(a=>h.loginHere(),["prevent"])),class:"form",id:"kt_login_signin_form"},[t("div",w,[r(t("input",{class:"form-control h-auto form-control-solid py-4 px-8",type:"email",disabled:e.data.isLoading,placeholder:"Email","onUpdate:modelValue":s[0]||(s[0]=a=>e.data.email=a),autocomplete:"off"},null,8,L),[[p,e.data.email]])]),t("div",S,[r(t("input",{class:"form-control h-auto form-control-solid py-4 px-8",type:"password",disabled:e.data.isLoading,placeholder:"Password","onUpdate:modelValue":s[1]||(s[1]=a=>e.data.password=a)},null,8,I),[[p,e.data.password]])]),A,e.data.isLoading?(l(),d("div",T,D)):(l(),d("button",{key:1,id:"kt_login_signin_submit",disabled:e.data.isLoading,class:"btn btn-primary font-weight-bold px-9 py-4 my-3 mx-4"},"Sign In",8,U))],32)])])])])}const N=u(b,[["render",V],["__scopeId","data-v-c1fbc0fa"]]);export{N as default};
