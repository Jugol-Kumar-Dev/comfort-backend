import{_ as y,c as i,a as e,w,b as d,v as m,b7 as u,H as f,bs as S,o as c,p as T,d as V,e as b}from"./app-JcuZYzdX.js";const A={name:"Add",data(){return{from:{name:"",email:"",phone:"",address:"",photo:null},errors:{}}},methods:{uploadFile(t){let o=t.target.files[0],a=new FileReader;a.onload=n=>{this.from.photo=n.target.result},a.readAsDataURL(o)},saveCustomer(){this.$axios.post("api/customer?fromAdmin",this.from).then(t=>{this.from="",this.errors="",Toast.fire({icon:"success",title:t.data.message})}).catch(t=>{var o,a,n;console.log((a=(o=t==null?void 0:t.response)==null?void 0:o.data)==null?void 0:a.errors),this.errors=(n=t.response.data)==null?void 0:n.errors,Toast.fire({icon:"warning",title:t.response.statusText})})}},created(){User.loggedIn()||this.$router.push({name:"Login"})}},l=t=>(T("data-v-1ded8727"),t=t(),V(),t),C={class:"card card-custom"},U=l(()=>e("div",{class:"card-header"},[e("h3",{class:"card-title"},"Add New Customer")],-1)),k={class:"card-body"},E={class:"form-group"},F=l(()=>e("label",null,[b("Name "),e("span",{class:"text-danger"},"*")],-1)),I={key:0,class:"text-danger"},N={class:"form-group"},B=l(()=>e("label",null,[b("Email "),e("span",{class:"text-danger"},"*")],-1)),D={key:0,class:"text-danger"},L={class:"form-group"},M=l(()=>e("label",null,"Phone",-1)),P={key:0,class:"text-danger"},R={class:"form-group"},H=l(()=>e("label",{for:"exampleTextarea"},"Address",-1)),j={class:"form-group"},q=l(()=>e("label",null,"Photo",-1)),z=["src"],G=l(()=>e("div",{class:"card-footer"},[e("button",{type:"submit",class:"btn btn-primary mr-2"},"Submit"),e("button",{type:"reset",class:"btn btn-secondary"},"Cancel")],-1));function J(t,o,a,n,s,p){var h,_,g,v,x;return c(),i("div",null,[e("div",C,[U,e("form",{class:"form",onSubmit:o[5]||(o[5]=w(r=>p.saveCustomer(),["prevent"])),enctype:"multipart/form-data"},[e("div",k,[e("div",E,[F,d(e("input",{type:"text",class:"form-control form-control-solid","onUpdate:modelValue":o[0]||(o[0]=r=>s.from.name=r),placeholder:"Enter customer name..."},null,512),[[m,s.from.name]]),s.errors.name?(c(),i("small",I,u((h=s.errors)==null?void 0:h.name[0]),1)):f("",!0)]),e("div",N,[B,d(e("input",{type:"email",class:"form-control form-control-solid","onUpdate:modelValue":o[1]||(o[1]=r=>s.from.email=r),placeholder:"Enter customer name..."},null,512),[[m,s.from.email]]),(_=s.errors)!=null&&_.email?(c(),i("small",D,u((g=s.errors)==null?void 0:g.email[0]),1)):f("",!0)]),e("div",L,[M,d(e("input",{type:"text",class:"form-control form-control-solid","onUpdate:modelValue":o[2]||(o[2]=r=>s.from.phone=r),placeholder:"Enter customer name..."},null,512),[[m,s.from.phone]]),(v=s.errors)!=null&&v.phone?(c(),i("small",P,u((x=s.errors)==null?void 0:x.phone[0]),1)):f("",!0)]),e("div",R,[H,d(e("textarea",{id:"exampleTextarea",class:"form-control form-control-solid","onUpdate:modelValue":o[3]||(o[3]=r=>s.from.address=r),rows:"3"},null,512),[[m,s.from.address]])]),e("div",j,[q,e("input",{type:"file",class:"form-control",onChange:o[4]||(o[4]=(...r)=>p.uploadFile&&p.uploadFile(...r))},null,32)]),d(e("img",{class:"preview-image",src:s.from.photo,alt:""},null,8,z),[[S,s.from.photo]])]),G],32)])])}const O=y(A,[["render",J],["__scopeId","data-v-1ded8727"]]);export{O as default};
