import{_ as m,c as i,a as e,w as p,b as h,v as f,b7 as u,H as c,e as _,o as l}from"./app-hQsoMlrz.js";const g={name:"Add",data(){return{from:{name:"",description:"",photo:""},avatar:{},errors:{}}},methods:{uploadFile(o){let t=o.target.files[0];this.avatar=t;let a=new FileReader;a.onload=d=>{this.from.photo=d.target.result},a.readAsDataURL(t)},saveBrand(){let o=new FormData;o.append("image",this.avatar),o.append("title",this.from.name),o.append("photo",this.from.photo),this.$axios.post("api/brand",o).then(t=>{this.from.name="",this.from.description="",this.from.photo="",this.avatar="",this.errors="",Toast.fire({icon:"success",title:t.data.message})}).catch(t=>{this.errors=t.response.data.errors,Toast.fire({icon:"warning",title:t.response.statusText})})}},created(){User.loggedIn()||this.$router.push({name:"Login"})}},v={class:"card card-custom"},b=e("div",{class:"card-header"},[e("h3",{class:"card-title"},"Add New Brand")],-1),y={class:"card-body"},x={class:"form-group"},w=e("label",null,"Brand Name",-1),B={key:0,class:"text-danger"},F={class:"form-group"},k=e("label",null,[_("Photo "),e("a",{href:"https://worldvectorlogo.com",target:"_blank"},"Find Brand Logo & Images")],-1),N=["src"],T=e("div",{class:"card-footer"},[e("button",{type:"submit",class:"btn btn-primary mr-2"},"Submit"),e("button",{type:"reset",class:"btn btn-secondary"},"Cancel")],-1);function A(o,t,a,d,s,n){return l(),i("div",null,[e("div",v,[b,e("form",{class:"form",onSubmit:t[2]||(t[2]=p(r=>n.saveBrand(),["prevent"])),enctype:"multipart/form-data"},[e("div",y,[e("div",x,[w,h(e("input",{type:"text",class:"form-control form-control-solid","onUpdate:modelValue":t[0]||(t[0]=r=>s.from.name=r),placeholder:"Enter Brand name..."},null,512),[[f,s.from.name]]),s.errors.name?(l(),i("small",B,u(s.errors.name[0]),1)):c("",!0)]),e("div",F,[k,e("input",{type:"file",class:"form-control",onChange:t[1]||(t[1]=(...r)=>n.uploadFile&&n.uploadFile(...r))},null,32)]),s.from.photo?(l(),i("img",{key:0,src:s.from.photo,alt:"",style:{width:"180px",height:"120px"}},null,8,N)):c("",!0)]),T],32)])])}const V=m(g,[["render",A]]);export{V as default};
