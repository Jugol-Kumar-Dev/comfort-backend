import{aQ as Y,bH as te,aE as ae,aV as se,c as d,a as e,F as j,aT as oe,w as le,b as h,v as _,bg as r,b7 as l,H as u,o as c,P as ne,bA as re,O as ie}from"./app-JcuZYzdX.js";const de={class:"card card-custom"},ce=e("div",{class:"card-title"},[e("h3",{class:"card-label"},"Order Areas ")],-1),he={class:"card-body"},_e={class:"table table-separate table-head-custom table-checkable"},ue=e("thead",{class:"table-light"},[e("tr",{class:"null"},[e("th",{class:"sorting"},"Id"),e("th",{class:"sorting"},"Area Name"),e("th",{class:"sorting"},"Area Code"),e("th",{class:"sorting"},"Delivery Charge"),e("th",{class:"sorting"},"Charge Condition"),e("th",{class:"sorting"},"Condition Price"),e("td")])],-1),me=e("span",{class:"svg-icon svg-icon-md"},[e("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1"},[e("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[e("rect",{x:"0",y:"0",width:"24",height:"24"}),e("path",{d:"M8,17.9148182 L8,5.96685884 C8,5.56391781 8.16211443,5.17792052 8.44982609,4.89581508 L10.965708,2.42895648 C11.5426798,1.86322723 12.4640974,1.85620921 13.0496196,2.41308426 L15.5337377,4.77566479 C15.8314604,5.0588212 16,5.45170806 16,5.86258077 L16,17.9148182 C16,18.7432453 15.3284271,19.4148182 14.5,19.4148182 L9.5,19.4148182 C8.67157288,19.4148182 8,18.7432453 8,17.9148182 Z",fill:"#000000","fill-rule":"nonzero",transform:"translate(12.000000, 10.707409) rotate(-135.000000) translate(-12.000000, -10.707409) "}),e("rect",{fill:"#000000",opacity:"0.3",x:"5",y:"20",width:"15",height:"2",rx:"1"})])])],-1),pe=["onClick"],ge=ie('<span class="svg-icon svg-icon-md"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><rect x="0" y="0" width="24" height="24"></rect><path d="M6,8 L6,20.5 C6,21.3284271 6.67157288,22 7.5,22 L16.5,22 C17.3284271,22 18,21.3284271 18,20.5 L18,8 L6,8 Z" fill="#000000" fill-rule="nonzero"></path><path d="M14,4.5 L14,4 C14,3.44771525 13.5522847,3 13,3 L11,3 C10.4477153,3 10,3.44771525 10,4 L10,4.5 L5.5,4.5 C5.22385763,4.5 5,4.72385763 5,5 L5,5.5 C5,5.77614237 5.22385763,6 5.5,6 L18.5,6 C18.7761424,6 19,5.77614237 19,5.5 L19,5 C19,4.72385763 18.7761424,4.5 18.5,4.5 L14,4.5 Z" fill="#000000" opacity="0.3"></path></g></svg></span>',1),ve=[ge],be={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},ye={class:"modal-dialog"},we={class:"modal-content"},fe={class:"card"},xe={class:"card-body"},Ce={class:"mb-1"},ke=e("label",{class:"form-label"},"Area Address",-1),Ae={key:0,class:"text-danger"},Le={class:"mb-1"},Be=e("label",{class:"form-label"},"Area Code",-1),Me={key:0,class:"text-danger"},Ve={class:"mb-1"},Ne=e("label",{class:"form-label"},"Delivery Charge",-1),Se={key:0,class:"text-danger"},$e={class:"mb-1"},De=e("label",{class:"form-label"},"Charge Condition",-1),Te={key:0,class:"text-danger"},Ue={class:"mb-1"},ze=e("label",{class:"form-label"},"Condition Price",-1),Ee={key:0,class:"text-danger"},Ie=e("div",{class:"d-flex flex-wrap mb-0"},[e("button",{type:"submit",class:"btn btn-primary"},"Submit"),e("button",{type:"reset",class:"btn btn-outline-secondary ms-1","data-bs-dismiss":"modal","aria-label":"Close"},"Cancel")],-1),He={__name:"Index",setup(Pe){const i=User.userInfo(),g=Y([]),{sendRequest:m,loading:Fe,error:n}=te(),o=Y({area_name:null,area_code:null,delivery_charge:null,charge_condition:null,charge_condition_price:null}),J=a=>{$("#exampleModal").modal("show")},K=async()=>{const a=await m({method:"POST",data:o.value,url:"/api/admin/areas-save",headers:{Authorization:`Bearer ${i==null?void 0:i.token}`}});a!=null&&a.message&&(await p(),$("#exampleModal").modal("hide"),Toast.fire({icon:"success",title:a==null?void 0:a.message}))},p=async()=>{const a=await m({method:"get",url:"/api/admin/areas",headers:{Authorization:`Bearer ${i==null?void 0:i.token}`}});g.value=a},W=a=>{Swal.fire({title:"Are You Sure!",text:"you watnt to delete this?",icon:"warning",confirmButtonColor:"#ddd",cancelButtonColor:"red",confirmButtonText:"Delete",showCancelButton:!0}).then(async s=>{s.value&&(await m({method:"GET",url:`/api/admin/delete-area/${a}`,headers:{Authorization:`Bearer ${i==null?void 0:i.token}`}}),await p(),Toast.fire({icon:"success",title:res.data.message}))}).catch(()=>{Swal.fire({icon:"success",title:"dont worry. your data is safe..."}),this.$router.push({name:"ManageEmployee"})})};return ae(async()=>{await p()}),(a,s)=>{var v,b,y,w,f,x,C,k,A,L,B,M,V,N,S,D,T,U,z,E,I,P,F,O,Z,H,q,G,Q,R;const X=se("router-link");return c(),d(j,null,[e("div",null,[e("div",de,[e("div",{class:"card-header flex-wrap py-5"},[ce,e("div",{class:"card-tools"},[e("button",{class:"btn btn-primary",onClick:J},"Add New Area")])]),e("div",he,[e("table",_e,[ue,e("tbody",null,[(c(!0),d(j,null,oe(g.value.data,(t,ee)=>(c(),d("tr",{key:t.id},[e("td",null,l(ee+1),1),e("td",null,l(t.area_name),1),e("td",null,l(t.area_code),1),e("td",null,l(t.delivery_charge),1),e("td",null,l(t.charge_condition??"........"),1),e("td",null,l(t.charge_condition_price??"........"),1),e("td",null,[ne(X,{to:"#",class:"btn btn-sm btn-clean btn-icon",title:"Edit details"},{default:re(()=>[me]),_:1}),e("button",{class:"btn btn-sm btn-clean btn-icon",onClick:Oe=>W(t==null?void 0:t.id),title:"Delete"},ve,8,pe)])]))),128))])])])])]),e("div",be,[e("div",ye,[e("div",we,[e("div",fe,[e("div",xe,[e("form",{onSubmit:le(K,["prevent"])},[e("div",Ce,[ke,h(e("input",{class:"form-control readonly","onUpdate:modelValue":s[0]||(s[0]=t=>o.value.area_name=t),type:"text",placeholder:"e.g Area name"},null,512),[[_,o.value.area_name]]),(y=(b=(v=r(n))==null?void 0:v.response)==null?void 0:b.data)!=null&&y.errors.area_name?(c(),d("small",Ae,l((x=(f=(w=r(n))==null?void 0:w.response)==null?void 0:f.data)==null?void 0:x.errors.area_name[0]),1)):u("",!0)]),e("div",Le,[Be,h(e("input",{class:"form-control readonly","onUpdate:modelValue":s[1]||(s[1]=t=>o.value.area_code=t),type:"text",placeholder:"e.g Area code"},null,512),[[_,o.value.area_code]]),(A=(k=(C=r(n))==null?void 0:C.response)==null?void 0:k.data)!=null&&A.errors.area_code?(c(),d("small",Me,l((M=(B=(L=r(n))==null?void 0:L.response)==null?void 0:B.data)==null?void 0:M.errors.area_code[0]),1)):u("",!0)]),e("div",Ve,[Ne,h(e("input",{class:"form-control readonly","onUpdate:modelValue":s[2]||(s[2]=t=>o.value.delivery_charge=t),type:"text",placeholder:"e.g Delivery charge for this area"},null,512),[[_,o.value.delivery_charge]]),(S=(N=(V=r(n))==null?void 0:V.response)==null?void 0:N.data)!=null&&S.errors.delivery_charge?(c(),d("small",Se,l((U=(T=(D=r(n))==null?void 0:D.response)==null?void 0:T.data)==null?void 0:U.errors.delivery_charge[0]),1)):u("",!0)]),e("div",$e,[De,h(e("input",{class:"form-control readonly","onUpdate:modelValue":s[3]||(s[3]=t=>o.value.charge_condition=t),type:"text",placeholder:"e.g Charge Condition price"},null,512),[[_,o.value.charge_condition]]),(I=(E=(z=r(n))==null?void 0:z.response)==null?void 0:E.data)!=null&&I.errors.charge_condition?(c(),d("small",Te,l((O=(F=(P=r(n))==null?void 0:P.response)==null?void 0:F.data)==null?void 0:O.errors.charge_condition[0]),1)):u("",!0)]),e("div",Ue,[ze,h(e("input",{class:"form-control readonly","onUpdate:modelValue":s[4]||(s[4]=t=>o.value.charge_condition_price=t),type:"text",placeholder:"e.g Charge Condition price"},null,512),[[_,o.value.charge_condition_price]]),(q=(H=(Z=r(n))==null?void 0:Z.response)==null?void 0:H.data)!=null&&q.errors.charge_condition_price?(c(),d("small",Ee,l((R=(Q=(G=r(n))==null?void 0:G.response)==null?void 0:Q.data)==null?void 0:R.errors.charge_condition_price[0]),1)):u("",!0)]),Ie],32)])])])])])],64)}}};export{He as default};
