import{bH as f,aQ as h,aE as p,c as n,a as t,F as b,aT as g,H as w,o as a,e as i,b7 as e,bg as v,bL as y,ax as x}from"./app-WprRP-mI.js";const C=t("div",{class:"card card-custom"},[t("div",{class:"card-header d-flex align-items-center justify-content-between"},[t("div",{class:"card-title d-flex gap-5"},[t("h3",null,"Lead Management")])])],-1),B={key:0,class:"mt-5"},k={class:"row"},D={class:"col-md-4"},E={class:"card my-2 w-100 overflow-hidden"},L={class:"card-body"},S={class:"d-flex align-items-start justify-content-between"},A={class:"d-flex flex-column justify-content-between h-100"},T={class:"fs-5 p-0 m-0 fw-bold"},j={class:"text-primary text-capitalize"},M={class:"fs-5 p-0 m-0 fw-bold"},N={class:"text-primary"},V={class:"fs-5 p-0 m-0 fw-bold"},$={class:"text-primary"},z={class:"d-flex justify-content-between info-item my-3"},F=t("p",{class:"info-title p-0 m-0"},"Created At:",-1),H={class:"badge bg-light-info text-info fw-bold"},q={class:"d-flex flex-column gap-3"},P=t("p",{class:"fs-5 p-0 m-0 fw-bold"},"Message:",-1),Q={class:"m-0 p-0"},R=["onClick"],U={__name:"ManageLeads",setup(Y){const{sendRequest:l,error:G,loading:I}=f(),c=h([]),r=async()=>{c.value=await l("api/get-all-leads")};p(async()=>{await r()});const u=o=>{Swal.fire({title:"Are You Sure!",text:"you watnt to delete this?",icon:"warning",confirmButtonColor:"#ddd",cancelButtonColor:"red",confirmButtonText:"Delete",showCancelButton:!0}).then(d=>{d.value&&(l({url:`/api/delete-lead/${o}`,method:"DELETE"}),r(),Toast.fire({icon:"success",title:"Campaign Delete Successfully Done..."}))}).catch(()=>{Swal.fire({icon:"success",title:"dont worry. your data is safe..."})})};return(o,d)=>(a(),n("div",null,[C,c.value.length?(a(),n("div",B,[t("div",k,[(a(!0),n(b,null,g(c.value,(s,J)=>{var _,m;return a(),n("div",D,[t("div",E,[t("div",L,[t("div",S,[t("div",A,[t("p",T,[i(" Name : "),t("span",j,e(s==null?void 0:s.name),1)]),t("p",M,[i(" Email : "),t("span",N,e(s==null?void 0:s.email),1)]),t("p",V,[i(" Phone : "),t("span",$,e(s==null?void 0:s.phone),1)]),t("div",z,[F,t("span",H,e(v(y)((_=o.batch)==null?void 0:_.createdAt).format("lll")),1)]),t("div",q,[P,t("p",Q,e(s==null?void 0:s.message),1)])]),t("div",null,[t("button",{class:"btn btn-warning",onClick:K=>u(s==null?void 0:s.id)},"Delete Lead",8,R)])])]),t("div",{class:"border-5 border-warning border-bottom",style:x(`width:${(m=o.batch)==null?void 0:m.progress}%`)},null,4)])])}),256))])])):w("",!0)]))}};export{U as default};
