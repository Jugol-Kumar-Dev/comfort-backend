import{S as h}from"./SummernoteEditor-AtpVW_tq.js";import{_ as f}from"./TreeCategory-xTgulDHG.js";import{_ as u,aV as g,c as n,a as e,w as v,P as _,b as l,v as i,b7 as y,H as p,O as c,o as d}from"./app-hQsoMlrz.js";const C={name:"Add",components:{TreeCategory:f,SummernoteEditor:h},data(){return{rawHtml:"this is my data",from:{parent:null,name:"",description:"",photo:"",icon:""},avatar:{},errors:{}}},methods:{uploadFile(r){this.avatar=r.target.files[0],this.from.photo=URL.createObjectURL(r.target.files[0])},saveCategory(){let r=new FormData;r.append("image",this.avatar),r.append("parent",this.from.parent),r.append("name",this.from.name),r.append("description",this.from.description),r.append("photo",this.from.photo),r.append("icon",this.from.icon),this.$axios.post("api/category",r).then(t=>{this.from="",this.errors="",this.avatar="",Toast.fire({icon:"success",title:t.data.message}),this.$router.push({name:"ManageCategory"})}).catch(t=>{this.errors=t.response.data.errors,Toast.fire({icon:"warning",title:t.response.statusText})})}},created(){User.loggedIn()||this.$router.push({name:"Login"})}},w={class:"card card-custom"},x=e("div",{class:"card-header"},[e("h3",{class:"card-title"},"Add New Category")],-1),b={class:"card-body"},V={class:"form-group"},L=e("label",null,"Parent Category",-1),k={class:"form-group"},M=e("label",null,"Category Name",-1),S={key:0,class:"text-danger"},T={class:"form-group"},U=c('<label>Category Icon</label><a href="https://icones.js.org/" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M11.37 10.384a1.5 1.5 0 0 0 0 2.121l.067.067a1.5 1.5 0 0 0 2.122 0l3.115-3.115c.144-.144.253-.31.326-.488V17a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h7.851a1.5 1.5 0 0 0-.366.269z"></path><path fill="currentColor" fill-rule="evenodd" d="M19.218 4.782a.5.5 0 0 1 0 .708l-6.364 6.364a.5.5 0 0 1-.708-.707l6.364-6.365a.5.5 0 0 1 .707 0" clip-rule="evenodd"></path><path fill="currentColor" fill-rule="evenodd" d="M14 4.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 .5.5v5a.5.5 0 0 1-1 0V5h-4.5a.5.5 0 0 1-.5-.5" clip-rule="evenodd"></path></svg></a>',2),N={class:"form-group"},B=e("label",null,"Category Description",-1),D={class:"form-group"},F={class:"btn btn-clean",style:{border:"dashed 2px",padding:"20px 82px"}},j=c('<span class="svg-icon svg-icon-primary svg-icon-2x"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="80px!important" height="80px!important" viewBox="0 0 24 24" version="1.1"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><rect x="0" y="0" width="24" height="24"></rect><path d="M2,13 C2,12.5 2.5,12 3,12 C3.5,12 4,12.5 4,13 C4,13.3333333 4,15 4,18 C4,19.1045695 4.8954305,20 6,20 L18,20 C19.1045695,20 20,19.1045695 20,18 L20,13 C20,12.4477153 20.4477153,12 21,12 C21.5522847,12 22,12.4477153 22,13 L22,18 C22,20.209139 20.209139,22 18,22 L6,22 C3.790861,22 2,20.209139 2,18 C2,15 2,13.3333333 2,13 Z" fill="#000000" fill-rule="nonzero" opacity="0.3"></path><rect fill="#000000" opacity="0.3" x="11" y="2" width="2" height="14" rx="1"></rect><path d="M12.0362375,3.37797611 L7.70710678,7.70710678 C7.31658249,8.09763107 6.68341751,8.09763107 6.29289322,7.70710678 C5.90236893,7.31658249 5.90236893,6.68341751 6.29289322,6.29289322 L11.2928932,1.29289322 C11.6689749,0.916811528 12.2736364,0.900910387 12.6689647,1.25670585 L17.6689647,5.75670585 C18.0794748,6.12616487 18.1127532,6.75845471 17.7432941,7.16896473 C17.3738351,7.57947475 16.7415453,7.61275317 16.3310353,7.24329415 L12.0362375,3.37797611 Z" fill="#000000" fill-rule="nonzero"></path></g></svg></span>',1),z=["src"],A=e("div",{class:"card-footer"},[e("button",{type:"submit",class:"btn btn-primary mr-2"},"Submit"),e("button",{type:"reset",class:"btn btn-secondary"},"Cancel")],-1);function E(r,t,H,I,o,a){const m=g("TreeCategory");return d(),n("div",null,[e("div",w,[x,e("form",{class:"form",onSubmit:t[5]||(t[5]=v(s=>a.saveCategory(),["prevent"])),enctype:"multipart/form-data"},[e("div",b,[e("div",V,[L,_(m,{modelValue:o.from.parent,"onUpdate:modelValue":t[0]||(t[0]=s=>o.from.parent=s)},null,8,["modelValue"])]),e("div",k,[M,l(e("input",{type:"text",class:"form-control form-control-solid","onUpdate:modelValue":t[1]||(t[1]=s=>o.from.name=s),placeholder:"Enter category name..."},null,512),[[i,o.from.name]]),o.errors.name?(d(),n("small",S,y(o.errors.name[0]),1)):p("",!0)]),e("div",T,[U,l(e("textarea",{class:"form-control","onUpdate:modelValue":t[2]||(t[2]=s=>o.from.icon=s),rows:"3",placeholder:"Svg Icon ......."},null,512),[[i,o.from.icon]])]),e("div",N,[B,l(e("textarea",{class:"form-control","onUpdate:modelValue":t[3]||(t[3]=s=>o.from.description=s),rows:"3",placeholder:"category description......."},null,512),[[i,o.from.description]])]),e("div",D,[e("label",F,[e("input",{type:"file",onChange:t[4]||(t[4]=(...s)=>a.uploadFile&&a.uploadFile(...s)),hidden:""},null,32),j])]),o.from.photo?(d(),n("img",{key:0,src:o.from.photo,alt:"",style:{width:"180px",height:"120px","object-fit":"contain"}},null,8,z)):p("",!0)]),A],32)])])}const Z=u(C,[["render",E]]);export{Z as default};
