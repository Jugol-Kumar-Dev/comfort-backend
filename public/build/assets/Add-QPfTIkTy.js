import{_ as w}from"./RequestLoading-9ppq3kX3.js";import{_ as S,aV as V,c as i,a as e,w as C,b as d,v as c,b7 as f,H as p,bs as T,P as k,o as m,p as A,d as N,e as b}from"./app-WprRP-mI.js";const U={name:"Add",components:{RequestLoading:w},data(){return{from:{name:"",email:"",phone:"",address:"",photo:null},errors:{},loading:!1}},methods:{uploadFile(t){let s=t.target.files[0],n=new FileReader;n.onload=a=>{this.from.photo=a.target.result},n.readAsDataURL(s)},saveCustomer(){this.loading=!0,this.$axios.post("api/customer?fromAdmin",this.from).then(t=>{this.from="",this.errors="",Toast.fire({icon:"success",title:t.data.message})}).catch(t=>{var s,n,a;console.log((n=(s=t==null?void 0:t.response)==null?void 0:s.data)==null?void 0:n.errors),this.errors=(a=t.response.data)==null?void 0:a.errors,Toast.fire({icon:"warning",title:t.response.statusText})}).finally(()=>this.loading=!1)}},created(){User.loggedIn()||this.$router.push({name:"Login"})}},l=t=>(A("data-v-0d5d0736"),t=t(),N(),t),E={class:"card card-custom"},F=l(()=>e("div",{class:"card-header"},[e("h3",{class:"card-title"},"Add New Customer")],-1)),I={class:"card-body"},L={class:"form-group"},R=l(()=>e("label",null,[b("Name "),e("span",{class:"text-danger"},"*")],-1)),q={key:0,class:"text-danger"},B={class:"form-group"},D=l(()=>e("label",null,[b("Email "),e("span",{class:"text-danger"},"*")],-1)),P={key:0,class:"text-danger"},M={class:"form-group"},H=l(()=>e("label",null,"Phone",-1)),j={key:0,class:"text-danger"},z={class:"form-group"},G=l(()=>e("label",{for:"exampleTextarea"},"Address",-1)),J={class:"form-group"},K=l(()=>e("label",null,"Photo",-1)),O=["src"],Q={class:"card-footer"},W={key:0},X=l(()=>e("button",{type:"submit",class:"btn btn-primary mr-2"},"Submit",-1)),Y=l(()=>e("button",{type:"reset",class:"btn btn-secondary"},"Cancel",-1)),Z=[X,Y];function $(t,s,n,a,o,u){var _,h,g,v,x;const y=V("RequestLoading");return m(),i("div",null,[e("div",E,[F,e("form",{class:"form",onSubmit:s[5]||(s[5]=C(r=>u.saveCustomer(),["prevent"])),enctype:"multipart/form-data"},[e("div",I,[e("div",L,[R,d(e("input",{type:"text",class:"form-control form-control-solid","onUpdate:modelValue":s[0]||(s[0]=r=>o.from.name=r),placeholder:"Enter customer name..."},null,512),[[c,o.from.name]]),o.errors.name?(m(),i("small",q,f((_=o.errors)==null?void 0:_.name[0]),1)):p("",!0)]),e("div",B,[D,d(e("input",{type:"email",class:"form-control form-control-solid","onUpdate:modelValue":s[1]||(s[1]=r=>o.from.email=r),placeholder:"Enter customer name..."},null,512),[[c,o.from.email]]),(h=o.errors)!=null&&h.email?(m(),i("small",P,f((g=o.errors)==null?void 0:g.email[0]),1)):p("",!0)]),e("div",M,[H,d(e("input",{type:"text",class:"form-control form-control-solid","onUpdate:modelValue":s[2]||(s[2]=r=>o.from.phone=r),placeholder:"Enter customer name..."},null,512),[[c,o.from.phone]]),(v=o.errors)!=null&&v.phone?(m(),i("small",j,f((x=o.errors)==null?void 0:x.phone[0]),1)):p("",!0)]),e("div",z,[G,d(e("textarea",{id:"exampleTextarea",class:"form-control form-control-solid","onUpdate:modelValue":s[3]||(s[3]=r=>o.from.address=r),rows:"3"},null,512),[[c,o.from.address]])]),e("div",J,[K,e("input",{type:"file",class:"form-control",onChange:s[4]||(s[4]=(...r)=>u.uploadFile&&u.uploadFile(...r))},null,32)]),d(e("img",{class:"preview-image",src:o.from.photo,alt:""},null,8,O),[[T,o.from.photo]])]),e("div",Q,[k(y,{isShow:o.loading},null,8,["isShow"]),o.loading?p("",!0):(m(),i("div",W,Z))])],32)])])}const se=S(U,[["render",$],["__scopeId","data-v-0d5d0736"]]);export{se as default};
