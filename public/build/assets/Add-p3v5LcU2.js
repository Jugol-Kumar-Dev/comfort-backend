import{_ as f,c as n,a as e,w as h,b as l,v as a,t as c,h as u,bu as _,o as i}from"./app-_aaoa6OJ.js";const g={name:"Add",data(){return{from:{name:"",email:"",phone:"",address:"",photo:null},errors:{}}},methods:{uploadFile(r){let s=r.target.files[0],m=new FileReader;m.onload=p=>{this.from.photo=p.target.result},m.readAsDataURL(s)},saveCustomer(){axios.post("api/customer",this.from).then(r=>{this.from="",this.errors="",Toast.fire({icon:"success",title:r.data.message})}).catch(r=>{this.errors=r.response.data.errors,Toast.fire({icon:"warning",title:r.response.statusText})})}},created(){User.loggedIn()||this.$router.push({name:"Login"})}},v={class:"card card-custom"},x=e("div",{class:"card-header"},[e("h3",{class:"card-title"},"Add New Customer")],-1),b={class:"card-body"},y={class:"form-group"},w=e("label",null,"Name",-1),C={key:0,class:"text-danger"},T={class:"form-group"},U=e("label",null,"Email",-1),V={key:0,class:"text-danger"},k={class:"form-group"},A=e("label",null,"Phone",-1),E={key:0,class:"text-danger"},F={class:"form-group"},N=e("label",{for:"exampleTextarea"},"Address",-1),S={class:"form-group"},B=e("label",null,"Photo",-1),D=["src"],L=e("div",{class:"card-footer"},[e("button",{type:"submit",class:"btn btn-primary mr-2"},"Submit"),e("button",{type:"reset",class:"btn btn-secondary"},"Cancel")],-1);function M(r,s,m,p,o,d){return i(),n("div",null,[e("div",v,[x,e("form",{class:"form",onSubmit:s[5]||(s[5]=h(t=>d.saveCustomer(),["prevent"])),enctype:"multipart/form-data"},[e("div",b,[e("div",y,[w,l(e("input",{type:"text",class:"form-control form-control-solid","onUpdate:modelValue":s[0]||(s[0]=t=>o.from.name=t),placeholder:"Enter customer name..."},null,512),[[a,o.from.name]]),o.errors.name?(i(),n("small",C,c(o.errors.name[0]),1)):u("",!0)]),e("div",T,[U,l(e("input",{type:"email",class:"form-control form-control-solid","onUpdate:modelValue":s[1]||(s[1]=t=>o.from.email=t),placeholder:"Enter customer name..."},null,512),[[a,o.from.email]]),o.errors.email?(i(),n("small",V,c(o.errors.email[0]),1)):u("",!0)]),e("div",k,[A,l(e("input",{type:"text",class:"form-control form-control-solid","onUpdate:modelValue":s[2]||(s[2]=t=>o.from.phone=t),placeholder:"Enter customer name..."},null,512),[[a,o.from.phone]]),o.errors.name?(i(),n("small",E,c(o.errors.phone[0]),1)):u("",!0)]),e("div",F,[N,l(e("textarea",{id:"exampleTextarea",class:"form-control form-control-solid","onUpdate:modelValue":s[3]||(s[3]=t=>o.from.address=t),rows:"3"},null,512),[[a,o.from.address]])]),e("div",S,[B,e("input",{type:"file",class:"form-control",onChange:s[4]||(s[4]=(...t)=>d.uploadFile&&d.uploadFile(...t))},null,32)]),l(e("img",{src:o.from.photo,alt:"",style:{width:"180px",height:"120px"}},null,8,D),[[_,o.from.photo]])]),L],32)])])}const R=f(g,[["render",M]]);export{R as default};
