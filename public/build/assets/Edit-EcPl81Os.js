import{bK as h,aQ as d,aE as b,c,a as e,w as g,b as r,v as i,P as x,H as y,bI as m,o as p}from"./app-WprRP-mI.js";import{_ as E}from"./RequestLoading-9ppq3kX3.js";const w={class:"card card-custom"},C=e("div",{class:"card-header"},[e("h3",{class:"card-title"},"Edit Customer")],-1),T={class:"card-body"},V={class:"form-group"},U=e("label",null,"Name",-1),M={class:"form-group"},N=e("label",null,"Email",-1),S={class:"form-group"},$=e("label",null,"Phone",-1),k={class:"form-group"},B=e("label",{for:"exampleTextarea"},"Address",-1),I={class:"card-footer"},L={key:0},P=e("button",{type:"submit",class:"btn btn-primary mr-2"},"Submit",-1),A=e("button",{type:"reset",class:"btn btn-secondary"},"Cancel",-1),D=[P,A],R={__name:"Edit",setup(H){const o=h(),u=d(null),s=d({full_name:null,email:null,phone:null,address:null,photo:null}),n=d(!1),f=()=>{User.loggedIn()||o.push({name:"Login"})},_=a=>{n.value=!0,m.get(`/api/customer/${a}`).then(t=>{u.value=t.data,s.value=u.value,Toast.fire({icon:"success",title:"Customer data is now available for editing."})}).catch(t=>{console.error("Error fetching customer data:",t)}).finally(()=>n.value=!1)},v=()=>{var a;n.value=!0,m.put(`/api/customer/${(a=o==null?void 0:o.params)==null?void 0:a.id}`,s.value).then(t=>{Toast.fire({icon:"success",title:t.data.message}),o==null||o.push({name:"ManageCategory"})}).catch(t=>{Toast.fire({icon:"warning",title:t.response.statusText})}).finally(()=>n.value=!1)};return b(()=>{var a;f(),_((a=o==null?void 0:o.params)==null?void 0:a.id)}),(a,t)=>(p(),c("div",null,[e("div",w,[C,e("form",{class:"form",onSubmit:t[4]||(t[4]=g(l=>v(),["prevent"])),enctype:"multipart/form-data"},[e("div",T,[e("div",V,[U,r(e("input",{type:"text",class:"form-control form-control-solid","onUpdate:modelValue":t[0]||(t[0]=l=>s.value.full_name=l),placeholder:"Enter customer name..."},null,512),[[i,s.value.full_name]])]),e("div",M,[N,r(e("input",{type:"email",class:"form-control form-control-solid","onUpdate:modelValue":t[1]||(t[1]=l=>s.value.email=l),placeholder:"Enter customer name..."},null,512),[[i,s.value.email]])]),e("div",S,[$,r(e("input",{type:"text",class:"form-control form-control-solid","onUpdate:modelValue":t[2]||(t[2]=l=>s.value.phone=l),placeholder:"Enter customer name..."},null,512),[[i,s.value.phone]])]),e("div",k,[B,r(e("textarea",{id:"exampleTextarea",class:"form-control form-control-solid","onUpdate:modelValue":t[3]||(t[3]=l=>s.value.address=l),rows:"3"},null,512),[[i,s.value.address]])])]),e("div",I,[x(E,{isShow:n.value,text:"updating..."},null,8,["isShow"]),n.value?y("",!0):(p(),c("div",L,D))])],32)])]))}};export{R as default};
