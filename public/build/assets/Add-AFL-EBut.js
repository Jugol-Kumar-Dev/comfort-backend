import{_ as h,c as i,a as e,w as f,b as m,v as c,b7 as u,H as p,e as _,o as l}from"./app-g0Cj44fV.js";const g={name:"Add",data(){return{from:{name:"",description:"",photo:""},avatar:{},errors:{}}},methods:{uploadFile(r){let t=r.target.files[0];this.avatar=t;let a=new FileReader;a.onload=d=>{this.from.photo=d.target.result},a.readAsDataURL(t)},saveBrand(){let r=new FormData;r.append("image",this.avatar),r.append("title",this.from.name),r.append("photo",this.from.photo),this.$axios.post("api/brand",r).then(t=>{this.from.name="",this.from.description="",this.from.photo="",this.avatar="",this.errors="",Toast.fire({icon:"success",title:t.data.message})}).catch(t=>{this.errors=t.response.data.errors,Toast.fire({icon:"warning",title:t.response.statusText})})}},created(){User.loggedIn()||this.$router.push({name:"Login"})}},v={class:"card card-custom"},b=e("div",{class:"card-header"},[e("h3",{class:"card-title"},"Add New Brand")],-1),x={class:"card-body"},y={class:"form-group"},w=e("label",null,"Brand Name",-1),B={key:0,class:"text-danger"},F={class:"form-group"},T=e("label",{for:"exampleTextarea"},"Brand Description ",-1),k={class:"form-group"},D=e("label",null,[_("Photo "),e("a",{href:"https://worldvectorlogo.com",target:"_blank"},"Find Brand Logo & Images")],-1),N=["src"],V=e("div",{class:"card-footer"},[e("button",{type:"submit",class:"btn btn-primary mr-2"},"Submit"),e("button",{type:"reset",class:"btn btn-secondary"},"Cancel")],-1);function A(r,t,a,d,o,n){return l(),i("div",null,[e("div",v,[b,e("form",{class:"form",onSubmit:t[3]||(t[3]=f(s=>n.saveBrand(),["prevent"])),enctype:"multipart/form-data"},[e("div",x,[e("div",y,[w,m(e("input",{type:"text",class:"form-control form-control-solid","onUpdate:modelValue":t[0]||(t[0]=s=>o.from.name=s),placeholder:"Enter Brand name..."},null,512),[[c,o.from.name]]),o.errors.name?(l(),i("small",B,u(o.errors.name[0]),1)):p("",!0)]),e("div",F,[T,m(e("textarea",{id:"exampleTextarea",class:"form-control form-control-solid","onUpdate:modelValue":t[1]||(t[1]=s=>o.from.description=s),rows:"3"},null,512),[[c,o.from.description]])]),e("div",k,[D,e("input",{type:"file",class:"form-control",onChange:t[2]||(t[2]=(...s)=>n.uploadFile&&n.uploadFile(...s))},null,32)]),o.from.photo?(l(),i("img",{key:0,src:o.from.photo,alt:"",style:{width:"180px",height:"120px"}},null,8,N)):p("",!0)]),V],32)])])}const C=h(g,[["render",A]]);export{C as default};
