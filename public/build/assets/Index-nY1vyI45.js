import{bH as w,aQ as a,aE as f,aV as x,G as y,bA as C,o as l,a as t,c as n,aT as b,b7 as L,F as k,w as S,H as u,b as B,v as M}from"./app-WprRP-mI.js";const T={class:"content-body"},I={class:"row"},D={class:"col-md-8"},E={class:"card"},F={class:"card-body"},P=t("div",{class:"d-flex align-items-center justify-content-between"},[t("h4",{class:"card-title"},"Slider")],-1),Z={class:"row d-flex align-items-center"},G={class:"col-12"},V={class:"table"},j=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"Image"),t("th",{scope:"col",width:"10%"},"Path"),t("th",{scope:"col"},"X")])],-1),A={class:"slider-table-image"},N=["src"],R={width:"10%"},U=["onClick"],z=t("span",{class:"svg-icon svg-icon-danger m-0 p-0"},[t("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1"},[t("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[t("rect",{x:"0",y:"0",width:"24",height:"24"}),t("path",{d:"M6,8 L18,8 L17.106535,19.6150447 C17.04642,20.3965405 16.3947578,21 15.6109533,21 L8.38904671,21 C7.60524225,21 6.95358004,20.3965405 6.89346498,19.6150447 L6,8 Z M8,10 L8.45438229,14.0894406 L15.5517885,14.0339036 L16,10 L8,10 Z",fill:"#000000","fill-rule":"nonzero"}),t("path",{d:"M14,4.5 L14,3.5 C14,3.22385763 13.7761424,3 13.5,3 L10.5,3 C10.2238576,3 10,3.22385763 10,3.5 L10,4.5 L5.5,4.5 C5.22385763,4.5 5,4.72385763 5,5 L5,5.5 C5,5.77614237 5.22385763,6 5.5,6 L18.5,6 C18.7761424,6 19,5.77614237 19,5.5 L19,5 C19,4.72385763 18.7761424,4.5 18.5,4.5 L14,4.5 Z",fill:"#000000",opacity:"0.3"})])])],-1),H=[z],O={class:"col-md-4"},$={class:"card"},q={class:"card-body"},J={class:"d-flex align-items-center flex-column"},K={for:"inputSlider",class:"btn btn-clean card-body position-relative imgContainer text-center w-100 rounded-lg",style:{border:"2px dashed"}},Q={class:"w-100 d-flex align-items-center justify-center flex-column"},X={key:0,class:"w-100 svg-icon svg-icon-primary text-center svg-icon-10x"},Y=t("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1"},[t("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[t("rect",{x:"0",y:"0",width:"24",height:"24"}),t("path",{d:"M3.5,21 L20.5,21 C21.3284271,21 22,20.3284271 22,19.5 L22,8.5 C22,7.67157288 21.3284271,7 20.5,7 L10,7 L7.43933983,4.43933983 C7.15803526,4.15803526 6.77650439,4 6.37867966,4 L3.5,4 C2.67157288,4 2,4.67157288 2,5.5 L2,19.5 C2,20.3284271 2.67157288,21 3.5,21 Z",fill:"#000000",opacity:"0.3"}),t("polygon",{fill:"#000000",opacity:"0.3",points:"4 19 10 11 16 19"}),t("polygon",{fill:"#000000",points:"11 19 15 14 19 19"}),t("path",{d:"M18,12 C18.8284271,12 19.5,11.3284271 19.5,10.5 C19.5,9.67157288 18.8284271,9 18,9 C17.1715729,9 16.5,9.67157288 16.5,10.5 C16.5,11.3284271 17.1715729,12 18,12 Z",fill:"#000000",opacity:"0.3"})])],-1),W=[Y],tt={key:1,class:"text-danger"},et=["src"],st=t("button",{class:"btn btn-primary mt-2 text-start"},"Save Slider",-1),ct={__name:"Index",setup(ot){const{sendRequest:c,error:lt,loading:nt}=w(),d=a(null),h=a(null),o=a(null),p=a([]),_=e=>{o.value=URL.createObjectURL(e.target.files[0]),h.value=e.target.files[0]},g=async()=>{const e=new FormData;e.append("url",d.value),e.append("image",h.value),await c({url:"/api/sliders",data:e,method:"POST",headers:{contentType:"multipart/formdata"}}),await Toast.fire({icon:"success",title:"Slider Item Created..."}),await r()},m=e=>{Swal.fire({title:"Are You Sure!",text:"you watnt to delete this?",icon:"warning",confirmButtonColor:"#ddd",cancelButtonColor:"red",confirmButtonText:"Delete",showCancelButton:!0}).then(i=>{i.value&&(c({url:"/api/sliders/"+e,method:"DELETE"}),r(),Toast.fire({icon:"success",title:"Slider Item Deleted...."}))}).catch(()=>{Swal.fire({icon:"success",title:"dont worry. your data is safe..."}),this.$router.push({name:"ManageEmployee"})})},r=async()=>p.value=await c("/api/sliders");return f(async()=>await r()),(e,i)=>{const v=x("layout");return l(),y(v,null,{default:C(()=>[t("div",T,[t("div",I,[t("div",D,[t("div",E,[t("div",F,[P,t("div",Z,[t("div",G,[t("table",V,[j,t("tbody",null,[(l(!0),n(k,null,b(p.value,s=>(l(),n("tr",{key:s.id},[t("th",null,[t("div",A,[t("img",{class:"w-100 h-100",src:"/storage/"+s.image,alt:""},null,8,N)])]),t("td",R,L(s.link),1),t("td",null,[t("button",{class:"btn btn-light-danger",onClick:it=>m(s==null?void 0:s.id)},H,8,U)])]))),128))])])])])])])]),t("div",O,[t("div",$,[t("div",q,[t("form",{onSubmit:S(g,["prevent"])},[t("div",J,[t("label",K,[t("input",{type:"file",onInput:_,class:"d-none",id:"inputSlider"},null,32),t("div",Q,[!o.value&&typeof o.value!="string"?(l(),n("span",X,W)):u("",!0),!o.value&&typeof o.value!="string"?(l(),n("small",tt," Please upload images in JPG, PNG, or GIF format with dimensions of 1400 x 500 pixels. The maximum file size allowed is 1024 KB. ")):u("",!0)]),o.value?(l(),n("img",{key:0,src:o.value,class:"w-100",alt:""},null,8,et)):u("",!0)]),B(t("input",{"onUpdate:modelValue":i[0]||(i[0]=s=>d.value=s),type:"text",class:"form-control",placeholder:"e.g page going url"},null,512),[[M,d.value]]),st])],32)])])])])])]),_:1})}}};export{ct as default};
