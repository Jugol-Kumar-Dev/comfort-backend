import{_ as g,c as l,a as t,w as u,b as r,v as p,o as c,p as m,d as f,e as _}from"./app-_aaoa6OJ.js";const b={name:"Auth",data(){return{data:{email:"admin@admin.com",password:"12345678",isLoading:!1}}},methods:{loginHere(){this.data.isLoading=!0,this.$axios.post("/api/auth/login",this.data).then(o=>{var s;User.responseAfterLogin(JSON.stringify((s=o==null?void 0:o.data)==null?void 0:s.data)),Toast.fire({icon:"success",title:"Login Successfully Done.."}),this.$router.push({name:"Dashboard"}),this.data.isLoading=!1}).catch(o=>{var s,n,d,e;Toast.fire({icon:"warning",title:(n=(s=o.response)==null?void 0:s.data)==null?void 0:n.message}),o.response.status==500&&Toast.fire({icon:"error",title:(e=(d=o.response)==null?void 0:d.data)==null?void 0:e.message}),this.data.isLoading=!1})},meButton(){console.log(this.data),this.$axios.post("/api/auth/me?token="+this.token).then(o=>{console.log(o.data),this.products=o.data}).catch(o=>{console.log(o)})},payload(){this.axios.post("/api/auth/payload?token="+this.token).then(o=>{console.log(o.data),this.products=o.data}).catch(o=>{console.log(o)})},logout(){this.$axios.post("/api/auth/logout?token="+this.token).then(o=>{console.log(o.data),this.products=o.data}).catch(o=>{console.log(o)})}},created(){User.loggedIn()&&this.$router.push({name:"Dashboard"})}},a=o=>(m("data-v-3defe137"),o=o(),f(),o),x={class:"d-flex flex-column flex-root"},v={class:"login login-4 login-signin-on d-flex flex-row-fluid",id:"kt_login"},w={class:"d-flex flex-center flex-row-fluid bgi-size-cover bgi-position-top bgi-no-repeat content__center",style:{"background-image":"url('./assets/media/bg/bg-3.jpg')"}},y={class:"login-form text-center p-7 position-relative overflow-hidden bg-white shadow-lg"},k=a(()=>t("div",{class:"d-flex flex-center mb-15"},null,-1)),L={class:"login-signin"},S=a(()=>t("div",{class:"mb-20"},[t("h3",null,"Login As Admin"),t("div",{class:"text-muted font-weight-bold"},"Enter your details to login to your account:")],-1)),I={class:"form-group mb-5"},A=["disabled"],T={class:"form-group mb-5"},B=["disabled"],D=a(()=>t("div",{class:"form-group d-flex flex-wrap justify-content-between align-items-center"},[t("div",{class:"checkbox-inline"},[t("label",{class:"checkbox m-0 text-muted"},[t("input",{type:"checkbox",name:"remember"}),t("span"),_("Remember me")])])],-1)),U={key:0,class:"spinner-border",role:"status"},V=a(()=>t("span",{class:"visually-hidden"},"Loading...",-1)),E=[V],N=["disabled"];function j(o,s,n,d,e,h){return c(),l("div",null,[t("div",x,[t("div",v,[t("div",w,[t("div",y,[k,t("div",L,[S,t("form",{onSubmit:s[2]||(s[2]=u(i=>h.loginHere(),["prevent"])),class:"form",id:"kt_login_signin_form"},[t("div",I,[r(t("input",{class:"form-control h-auto form-control-solid py-4 px-8",type:"email",disabled:e.data.isLoading,placeholder:"Email","onUpdate:modelValue":s[0]||(s[0]=i=>e.data.email=i),autocomplete:"off"},null,8,A),[[p,e.data.email]])]),t("div",T,[r(t("input",{class:"form-control h-auto form-control-solid py-4 px-8",type:"password",disabled:e.data.isLoading,placeholder:"Password","onUpdate:modelValue":s[1]||(s[1]=i=>e.data.password=i)},null,8,B),[[p,e.data.password]])]),D,e.data.isLoading?(c(),l("div",U,E)):(c(),l("button",{key:1,id:"kt_login_signin_submit",disabled:e.data.isLoading,class:"btn btn-primary font-weight-bold px-9 py-4 my-3 mx-4"},"Sign In",8,N))],32)])])])])])])}const M=g(b,[["render",j],["__scopeId","data-v-3defe137"]]);export{M as default};
