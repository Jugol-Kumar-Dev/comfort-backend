import{_ as u,c as d,a as o,w as m,b as r,v as p,o as l,p as g,d as f,e as _}from"./app-WprRP-mI.js";const b={name:"Auth",data(){return{data:{email:null,password:null,isLoading:!1}}},methods:{loginHere(){this.data.isLoading=!0,this.$axios.post("/api/auth/login",this.data).then(t=>{var s,a;(s=t==null?void 0:t.data)!=null&&s.data?(User.responseAfterLogin(JSON.stringify((a=t==null?void 0:t.data)==null?void 0:a.data)),Toast.fire({icon:"success",title:"Login Successfully Done.."}),this.$router.push({name:"Dashboard"})):Toast.fire({icon:"error",title:"Credential Invalid..."}),this.data.isLoading=!1}).catch(t=>{var s,a,n,e;Toast.fire({icon:"warning",title:(a=(s=t.response)==null?void 0:s.data)==null?void 0:a.message}),t.response.status==500&&Toast.fire({icon:"error",title:(e=(n=t.response)==null?void 0:n.data)==null?void 0:e.message}),this.data.isLoading=!1})},meButton(){console.log(this.data),this.$axios.post("/api/auth/me?token="+this.token).then(t=>{console.log(t.data),this.products=t.data}).catch(t=>{console.log(t)})},payload(){this.axios.post("/api/auth/payload?token="+this.token).then(t=>{console.log(t.data),this.products=t.data}).catch(t=>{console.log(t)})},logout(){this.$axios.post("/api/auth/logout?token="+this.token).then(t=>{console.log(t.data),this.products=t.data}).catch(t=>{console.log(t)})}},created(){User.loggedIn()&&this.$router.push({name:"Dashboard"})}},c=t=>(g("data-v-fe00e6f7"),t=t(),f(),t),v={class:"login-container"},x={class:"card",style:{width:"30%"}},y={class:"card-body"},k=c(()=>o("div",{class:"mb-20"},[o("h3",null,"Login As Admin"),o("div",{class:"text-muted font-weight-bold"},"Enter your details to login to your account:")],-1)),w={class:"form-group mb-5"},L=["disabled"],I={class:"form-group mb-5"},S=["disabled"],T=c(()=>o("div",{class:"form-group d-flex flex-wrap justify-content-between align-items-center"},[o("div",{class:"checkbox-inline"},[o("label",{class:"checkbox m-0 text-muted"},[o("input",{type:"checkbox",name:"remember"}),o("span"),_("Remember me")])])],-1)),A={key:0,class:"spinner-border",role:"status"},B=c(()=>o("span",{class:"visually-hidden"},"Loading...",-1)),D=[B],U=["disabled"];function V(t,s,a,n,e,h){return l(),d("div",v,[o("div",x,[o("div",y,[o("div",null,[k,o("form",{onSubmit:s[2]||(s[2]=m(i=>h.loginHere(),["prevent"])),class:"form",id:"kt_login_signin_form"},[o("div",w,[r(o("input",{class:"form-control h-auto form-control-solid py-4 px-8",type:"email",disabled:e.data.isLoading,placeholder:"Email","onUpdate:modelValue":s[0]||(s[0]=i=>e.data.email=i),autocomplete:"off"},null,8,L),[[p,e.data.email]])]),o("div",I,[r(o("input",{class:"form-control h-auto form-control-solid py-4 px-8",type:"password",disabled:e.data.isLoading,placeholder:"Password","onUpdate:modelValue":s[1]||(s[1]=i=>e.data.password=i)},null,8,S),[[p,e.data.password]])]),T,e.data.isLoading?(l(),d("div",A,D)):(l(),d("button",{key:1,id:"kt_login_signin_submit",disabled:e.data.isLoading,class:"btn btn-primary font-weight-bold px-9 py-4 my-3 mx-4"},"Sign In",8,U))],32)])])])])}const N=u(b,[["render",V],["__scopeId","data-v-fe00e6f7"]]);export{N as default};
